import{L as l,P as s,T as a,a as r,bc as m,cc as c,dc as f,i as h,jc as u}from"./chunk-X7ILVH5W.js";var U=(()=>{let i=class i{constructor(t,e){this.http=t,this.clientConfig=e,this.apiUrl=`${this.clientConfig.getApiUrl()}/appointments`,this.httpOptions={headers:new m(r({"Content-Type":"application/json"},this.clientConfig.getTenantHeader()))}}getAllAppointments(){let t=`${this.apiUrl}/all`;return console.log("\u{1F310} [AppointmentService] Calling URL:",t),console.log("\u{1F310} [AppointmentService] apiUrl:",this.apiUrl),this.http.get(t,this.httpOptions).pipe(l(e=>{console.log("\u{1F50D} [AppointmentService] RAW HTTP Response:",JSON.stringify(e,null,2)),console.log("\u{1F50D} [AppointmentService] getAllAppointments response:",e),e&&e.length>0&&(console.log("\u{1F50D} [AppointmentService] Primera cita:",e[0]),console.log("\u{1F50D} [AppointmentService] creditRedemptions de primera cita:",e[0].creditRedemptions))}))}getAppointments(t,e){let p=new c().set("from",t).set("to",e);return this.http.get(this.apiUrl,r({params:p},this.httpOptions))}getAppointmentsByPatient(t){return this.http.get(`${this.apiUrl}/patient/${t}`,this.httpOptions)}getAppointmentsByDate(t){return this.getAppointments(t,t)}getAppointmentById(t){return this.http.get(`${this.apiUrl}/${t}`,this.httpOptions)}createAppointment(t){return this.http.post(this.apiUrl,t,this.httpOptions)}updateAppointment(t,e){return this.http.put(`${this.apiUrl}/${t}`,e,this.httpOptions)}cancelAppointment(t){return this.http.delete(`${this.apiUrl}/${t}?action=cancel`,this.httpOptions)}deleteAppointment(t){return this.http.delete(`${this.apiUrl}/${t}?action=delete`,this.httpOptions)}checkConflicts(t,e,p){let o=new c().set("start",t).set("end",e);return p&&(o=o.set("excludeId",p)),this.http.get(`${this.apiUrl}/conflicts/check`,{params:o})}};i.\u0275fac=function(e){return new(e||i)(a(f),a(u))},i.\u0275prov=s({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var O=(()=>{let i=class i{constructor(){this.packPaymentStatusSubject=new h,this.packPaymentStatusChanged$=this.packPaymentStatusSubject.asObservable()}notifyPackPaymentStatusChange(t){this.packPaymentStatusSubject.next(t)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();export{U as a,O as b};
