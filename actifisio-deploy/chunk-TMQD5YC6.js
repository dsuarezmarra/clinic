import{P as g,T as a,a as c,bc as u,dc as f,jc as l}from"./chunk-X7ILVH5W.js";var H=(()=>{let n=class n{constructor(t,i){this.http=t,this.clientConfig=i,this.apiUrl=`${this.clientConfig.getApiUrl()}/meta/config`,this.httpOptions={headers:new u(c({"Content-Type":"application/json"},this.clientConfig.getTenantHeader()))}}getConfiguration(){return this.http.get(this.apiUrl,this.httpOptions)}getConfig(){return this.getConfiguration()}updateConfiguration(t){return this.http.put(this.apiUrl,t,this.httpOptions)}resetConfiguration(){return this.http.post(`${this.apiUrl}/reset`,{},this.httpOptions)}checkWorkingDay(t){return this.http.get(`${this.apiUrl}/working-hours/${t}`,this.httpOptions)}generateTimeSlots(t,i,s=30){if(!i.isWorkingDay||!i.workingHours)return[];let e=[],{morning:r,afternoon:o}=i.workingHours;return this.addSlotsForPeriod(t,r.start,r.end,s,e),this.addSlotsForPeriod(t,o.start,o.end,s,e),e}addSlotsForPeriod(t,i,s,e,r){let o=new Date(`${t}T${i}`),m=new Date(`${t}T${s}`),p=new Date(o);for(;p<m;)r.push(p.toISOString()),p=new Date(p.getTime()+e*6e4)}isTimeWithinWorkingHours(t,i){if(!i.isWorkingDay||!i.workingHours)return!1;let e=new Date(t).toTimeString().substring(0,5),{morning:r,afternoon:o}=i.workingHours;return e>=r.start&&e<r.end||e>=o.start&&e<o.end}getPrices(){return this.http.get(`${this.clientConfig.getApiUrl()}/meta/config/prices`,this.httpOptions)}updatePrices(t){return this.http.put(`${this.clientConfig.getApiUrl()}/meta/config/prices`,t,this.httpOptions)}};n.\u0275fac=function(i){return new(i||n)(a(f),a(l))},n.\u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"});let h=n;return h})();export{H as a};
