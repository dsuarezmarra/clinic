import{a as L}from"./chunk-5ET53AVA.js";import{a as tt,b as ot}from"./chunk-B3WZX5Z5.js";import{a as nt}from"./chunk-NX5QT64V.js";import{e as I}from"./chunk-4E2VJWSK.js";import{a as H,b as Q,d as q,e as G,f as K,g as J,h as X,u as Z,x as et,y as it}from"./chunk-IEVIATPJ.js";import{$a as O,Ea as S,Gb as W,Ia as M,Ub as B,Va as C,Vb as U,Wa as o,Wb as Y,Xa as i,Xb as T,Ya as f,Z as m,_ as g,a as j,ab as u,bb as b,cb as A,db as V,eb as z,gb as N,hb as w,jb as r,lb as x,mb as F,ob as k,pb as D,qb as E,ua as c,wb as R,ya as _,yb as $}from"./chunk-X7ILVH5W.js";var dt=["patientSearchInput"];function lt(l,p){if(l&1&&(o(0,"p",44),f(1,"i",49),r(2),i()),l&2){let s=b().$implicit;c(2),x(" ",s.email," ")}}function pt(l,p){if(l&1){let s=O();o(0,"div",40)(1,"div",41),u("click",function(){let n=m(s).$implicit,e=b();return g(e.selectPatient(n))}),o(2,"div",42)(3,"h6",43),r(4),i(),o(5,"p",44),f(6,"i",45),r(7),i(),M(8,lt,3,1,"p",46),o(9,"div",47)(10,"span",48),r(11),i()()()()()}if(l&2){let s=p.$implicit,t=b();c(),w("border-primary",(t.selectedPatient==null?null:t.selectedPatient.id)===s.id),c(3),F("",s.firstName," ",s.lastName),c(3),x(" ",s.phone," "),c(),C("ngIf",s.email),c(3),x("",s.activeSessions||0," sesiones")}}function mt(l,p){if(l&1&&(o(0,"div",50)(1,"strong"),r(2,"Paciente seleccionado:"),i(),r(3),f(4,"br"),o(5,"small"),r(6),i()()),l&2){let s=b();c(3),F(" ",s.selectedPatient.firstName," ",s.selectedPatient.lastName," "),c(3),x("Sesiones activas: ",s.selectedPatient.activeSessions||0)}}function gt(l,p){if(l&1){let s=O();o(0,"div",18)(1,"form")(2,"div",19)(3,"label",51),r(4,"Fecha y Hora de Inicio"),i(),o(5,"input",52),u("change",function(n){m(s);let e=b();return g(e.editingAppointment.start=n.target.value)}),i()(),o(6,"div",19)(7,"label",53),r(8,"Fecha y Hora de Fin"),i(),o(9,"input",54),u("change",function(n){m(s);let e=b();return g(e.editingAppointment.end=n.target.value)}),i()(),f(10,"div",19),o(11,"div",19)(12,"label",55),r(13,"Notas"),i(),o(14,"textarea",56),E("ngModelChange",function(n){m(s);let e=b();return D(e.editingAppointment.notes,n)||(e.editingAppointment.notes=n),g(n)}),i()(),o(15,"div",57)(16,"input",58),E("ngModelChange",function(n){m(s);let e=b();return D(e.editingAppointment.consumesCredit,n)||(e.editingAppointment.consumesCredit=n),g(n)}),i(),o(17,"label",59),r(18," Consume cr\xE9dito/sesi\xF3n "),i()()()()}if(l&2){let s=b();c(5),C("value",s.formatDateTimeLocal(s.editingAppointment.start)),c(4),C("value",s.formatDateTimeLocal(s.editingAppointment.end)),c(5),k("ngModel",s.editingAppointment.notes),c(2),k("ngModel",s.editingAppointment.consumesCredit)}}function ut(l,p){if(l&1&&f(0,"div",60),l&2){let s=b();w("show",s.showPatientModal||s.showEditModal)}}var at=(()=>{let p=class p{previousPeriod(){this.calendarComponent&&this.calendarComponent.previousPeriod()}nextPeriod(){this.calendarComponent&&this.calendarComponent.nextPeriod()}getAppointmentPaymentStatus(t){if(!t.creditRedemptions||t.creditRedemptions.length===0)return null;let n=t.creditRedemptions[0];return n.creditPack&&typeof n.creditPack.paid<"u"?n.creditPack.paid?"paid":"pending":null}constructor(t,n,e,a,d,h,y){this.appointmentService=t,this.patientService=n,this.notificationService=e,this.router=a,this.cdr=d,this.creditService=h,this.eventBusService=y,this.appointments=[],this.patients=[],this.filteredPatients=[],this.currentDate=new Date,this.selectedDate=new Date,this.showPatientModal=!1,this.showEditModal=!1,this.selectedPatient=null,this.editingAppointment=null,this.selectedTimeSlot="",this.patientSearchTerm=""}ngAfterViewInit(){this.cdr.detectChanges()}ngOnInit(){this.loadAppointments(),this.loadPatients(),this.generateTimeSlots(),this.eventBusService.packPaymentStatusChanged$.subscribe(t=>{console.log("Dashboard: Pack payment status changed:",t),this.updateAppointmentPaymentStatus(t.packId,t.paid)})}generateTimeSlots(){let t=[];for(let n=8;n<22;n++)for(let e=0;e<60;e+=30){let a=`${n.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`;t.push(a)}return t}loadAppointments(){let t=new Date(this.selectedDate);t.setDate(t.getDate()-3);let n=new Date(this.selectedDate);n.setDate(n.getDate()+3);let e=t.toISOString().split("T")[0],a=n.toISOString().split("T")[0];this.appointmentService.getAppointments(e,a).subscribe({next:d=>{this.appointments=d},error:d=>{console.error("Error loading appointments:",d),this.notificationService.showError("Error al cargar las citas")}})}loadPatients(){this.patientService.getPatients().subscribe({next:t=>{this.patients=t.patients||t,this.filteredPatients=[...this.patients]},error:t=>{console.error("Error loading patients:",t),this.notificationService.showError("Error al cargar los pacientes")}})}updateAppointmentPaymentStatus(t,n){console.log(`Dashboard: Updating payment status for pack ${t} to ${n}`),this.appointments.forEach(e=>{e.creditRedemptions&&e.creditRedemptions.forEach(a=>{a.creditPackId===t&&a.creditPack&&(a.creditPack.paid=n,console.log(`Updated appointment ${e.id} creditPack paid status to ${n}`))})})}getAppointmentsForDate(t){return this.appointments.filter(n=>new Date(n.start).toDateString()===t.toDateString())}getAppointmentForTimeSlot(t,n){return this.getAppointmentsForDate(t).find(a=>new Date(a.start).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})===n)||null}getTimeSlots(){return this.generateTimeSlots()}openCreateAppointmentModal(t,n){this.selectedDate=t,this.selectedTimeSlot=n,this.selectedPatient=null,this.patientSearchTerm="",this.filteredPatients=[...this.patients],this.showPatientModal=!0,setTimeout(()=>{this.patientSearchInput&&this.patientSearchInput.nativeElement&&(this.patientSearchInput.nativeElement.focus(),this.patientSearchInput.nativeElement.click())},100)}openEditAppointmentModal(t){this.editingAppointment=j({},t),this.showEditModal=!0}filterPatients(){if(!this.patientSearchTerm.trim()){this.filteredPatients=[...this.patients];return}let t=this.patientSearchTerm.toLowerCase();this.filteredPatients=this.patients.filter(n=>n.firstName.toLowerCase().includes(t)||n.lastName.toLowerCase().includes(t)||n.phone.includes(t)||n.email&&n.email.toLowerCase().includes(t))}selectPatient(t){this.selectedPatient=t}createAppointment(){if(!this.selectedPatient){this.notificationService.showError("Selecciona un paciente");return}if((this.selectedPatient.activeSessions||0)<=0)if(confirm(`${this.selectedPatient.firstName} no tiene sesiones activas. \xBFDeseas crear un nuevo bono/sesi\xF3n?`)){this.router.navigate(["/pacientes",this.selectedPatient.id],{queryParams:{showCreditForm:"true"}});return}else return;let[t,n]=this.selectedTimeSlot.split(":").map(Number),e=new Date(this.selectedDate);e.setHours(t,n,0,0);let a=30;if(this.selectedPatient&&this.selectedPatient.id){this.creditService.getPatientCredits(this.selectedPatient.id).subscribe({next:d=>{a=(d.creditPacks||[]).some(v=>Number(v.unitMinutes)===60&&Number(v.unitsRemaining)>=2)?60:30;let P=new Date(e);P.setMinutes(P.getMinutes()+a);let rt={patientId:this.selectedPatient.id,start:e.toISOString(),end:P.toISOString(),durationMinutes:a,consumesCredit:!0};this.appointmentService.createAppointment(rt).subscribe({next:v=>{this.notificationService.showSuccess("Cita creada exitosamente"),this.closeModal(),this.loadAppointments()},error:v=>{this.notificationService.showError("Error al crear la cita"),console.error("Error creating appointment:",v)}})},error:d=>{let h=new Date(e);h.setMinutes(h.getMinutes()+30);let y={patientId:this.selectedPatient.id,start:e.toISOString(),end:h.toISOString(),durationMinutes:30,consumesCredit:!0};this.appointmentService.createAppointment(y).subscribe({next:P=>{this.notificationService.showSuccess("Cita creada exitosamente"),this.closeModal(),this.loadAppointments()},error:P=>{this.notificationService.showError("Error al crear la cita"),console.error("Error creating appointment:",P)}})}});return}}updateAppointment(){this.editingAppointment&&this.appointmentService.updateAppointment(this.editingAppointment.id,this.editingAppointment).subscribe({next:t=>{this.notificationService.showSuccess("Cita actualizada exitosamente"),this.closeModal(),this.loadAppointments()},error:t=>{this.notificationService.showError("Error al actualizar la cita"),console.error("Error updating appointment:",t)}})}deleteAppointment(t){confirm("\xBFEst\xE1s seguro de que deseas eliminar esta cita?")&&this.appointmentService.deleteAppointment(t).subscribe({next:()=>{this.notificationService.showSuccess("Cita eliminada exitosamente"),this.closeModal(),this.loadAppointments()},error:n=>{this.notificationService.showError("Error al eliminar la cita"),console.error("Error deleting appointment:",n)}})}closeModal(){this.showPatientModal=!1,this.showEditModal=!1,this.selectedPatient=null,this.editingAppointment=null,this.patientSearchTerm=""}getPatientName(t){let n=this.patients.find(e=>e.id===t.patientId);return n?`${n.firstName} ${n.lastName}`:"Paciente no encontrado"}formatDate(t){return t.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})}formatDateShort(t){return t.toLocaleDateString("es-ES",{day:"numeric",month:"short"})}formatTime(t){return new Date(t).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}formatTimeOnly(t){return new Date(t).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}formatTimeRange(t,n){let e=this.formatTimeOnly(t),a=this.formatTimeOnly(n);return`${e} - ${a}`}formatPriceCents(t){return t==null?"":t?(t/100).toFixed(t%100===0?0:2).replace(".",",")+" \u20AC":"0 \u20AC"}getDayTotalCents(){if(!this.calendarComponent)return 0;try{return this.calendarComponent.getDayTotal(this.calendarComponent.currentDate)}catch{return 0}}formatDateTimeLocal(t){return new Date(t).toISOString().slice(0,16)}getTimeUntil(t){let n=new Date,e=new Date(t),a=Math.floor((e.getTime()-n.getTime())/(1e3*60));if(a<60)return`${a} min`;{let d=Math.floor(a/60),h=a%60;return`${d}h ${h}m`}}getStatusClass(t){switch(t){case"BOOKED":return"bg-primary";case"CANCELLED":return"bg-secondary";case"NO_SHOW":return"bg-warning";default:return"bg-light"}}goToToday(){this.calendarComponent&&this.calendarComponent.goToToday()}previousDay(){this.calendarComponent&&this.calendarComponent.previousPeriod()}nextDay(){this.calendarComponent&&this.calendarComponent.nextPeriod()}getDayName(t){return t.toLocaleDateString("es-ES",{weekday:"long"})}isToday(t){let n=new Date;return t.toDateString()===n.toDateString()}};p.\u0275fac=function(n){return new(n||p)(_(tt),_(et),_(it),_(I),_(W),_(nt),_(ot))},p.\u0275cmp=S({type:p,selectors:[["app-dashboard"]],viewQuery:function(n,e){if(n&1&&(A(L,5),A(dt,5)),n&2){let a;V(a=z())&&(e.calendarComponent=a.first),V(a=z())&&(e.patientSearchInput=a.first)}},decls:70,vars:24,consts:[["patientSearchInput",""],[1,"d-flex","flex-column","align-items-center","mb-3"],[1,"mb-0","text-center","w-100"],[1,"d-flex","flex-column","align-items-center","mt-2","mb-2"],[1,"mb-2"],[1,"text-muted","ms-2"],[1,"d-flex","gap-2","justify-content-center"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-chevron-left"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-chevron-right"],[3,"viewModeInput","hideHeader"],["tabindex","-1","role","dialog","aria-labelledby","patientModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","patientModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],["type","text","placeholder","Buscar paciente por nombre, tel\xE9fono o email...","autofocus","","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","input","ngModel"],[1,"row"],["class","col-md-6 mb-2",4,"ngFor","ngForOf"],["class","alert alert-info mt-3",4,"ngIf"],[1,"mt-3","p-3","bg-light","rounded"],[1,"mb-1"],[1,"mb-0"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["tabindex","-1","role","dialog","aria-labelledby","editModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],["id","editModalLabel",1,"modal-title"],["class","modal-body",4,"ngIf"],["type","button",1,"btn","btn-danger","me-auto",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["class","modal-backdrop fade",3,"show",4,"ngIf"],[1,"col-md-6","mb-2"],[1,"card","h-100",2,"cursor","pointer",3,"click"],[1,"card-body","p-3"],[1,"card-title","mb-1"],[1,"card-text","small","text-muted","mb-1"],[1,"bi","bi-telephone"],["class","card-text small text-muted mb-1",4,"ngIf"],[1,"small"],[1,"badge","bg-info"],[1,"bi","bi-envelope"],[1,"alert","alert-info","mt-3"],["for","appointmentStart",1,"form-label"],["type","datetime-local","id","appointmentStart","tabindex","0",1,"form-control",2,"z-index","1060",3,"change","value"],["for","appointmentEnd",1,"form-label"],["type","datetime-local","id","appointmentEnd","tabindex","0",1,"form-control",2,"z-index","1060",3,"change","value"],["for","appointmentNotes",1,"form-label"],["id","appointmentNotes","rows","3","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","ngModel"],[1,"form-check"],["type","checkbox","id","consumesCredit","tabindex","0",1,"form-check-input",2,"z-index","1060",3,"ngModelChange","ngModel"],["for","consumesCredit",1,"form-check-label"],[1,"modal-backdrop","fade"]],template:function(n,e){if(n&1){let a=O();o(0,"div",1)(1,"h2",2),r(2,"Tabl\xF3n Diario"),i(),o(3,"div",3)(4,"h4",4),r(5),R(6,"date"),o(7,"small",5),r(8),i()(),o(9,"div",6)(10,"button",7),u("click",function(){return m(a),g(e.previousDay())}),f(11,"i",8),i(),o(12,"button",9),u("click",function(){return m(a),g(e.goToToday())}),r(13,"Hoy"),i(),o(14,"button",7),u("click",function(){return m(a),g(e.nextDay())}),f(15,"i",10),i()()()(),f(16,"app-calendar",11),o(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h5",16),r(22,"Seleccionar Paciente"),i(),o(23,"button",17),u("click",function(){return m(a),g(e.closeModal())}),i()(),o(24,"div",18)(25,"div",19)(26,"div",20)(27,"span",21),f(28,"i",22),i(),o(29,"input",23,0),E("ngModelChange",function(h){return m(a),D(e.patientSearchTerm,h)||(e.patientSearchTerm=h),g(h)}),u("input",function(){return m(a),g(e.filterPatients())}),i()()(),o(31,"div",24),M(32,pt,12,7,"div",25),i(),M(33,mt,7,3,"div",26),o(34,"div",27)(35,"h6"),r(36,"Detalles de la cita:"),i(),o(37,"p",28)(38,"strong"),r(39,"Fecha:"),i(),r(40),i(),o(41,"p",28)(42,"strong"),r(43,"Hora:"),i(),r(44),i(),o(45,"p",29)(46,"strong"),r(47,"Duraci\xF3n:"),i(),r(48," 30 minutos"),i()()(),o(49,"div",30)(50,"button",31),u("click",function(){return m(a),g(e.closeModal())}),r(51,"Cancelar"),i(),o(52,"button",32),u("click",function(){return m(a),g(e.createAppointment())}),r(53," Crear Cita "),i()()()()(),o(54,"div",33)(55,"div",34)(56,"div",14)(57,"div",15)(58,"h5",35),r(59,"Editar Cita"),i(),o(60,"button",17),u("click",function(){return m(a),g(e.closeModal())}),i()(),M(61,gt,19,4,"div",36),o(62,"div",30)(63,"button",37),u("click",function(){return m(a),g(e.deleteAppointment((e.editingAppointment==null?null:e.editingAppointment.id)||""))}),r(64," Eliminar "),i(),o(65,"button",31),u("click",function(){return m(a),g(e.closeModal())}),r(66,"Cancelar"),i(),o(67,"button",38),u("click",function(){return m(a),g(e.updateAppointment())}),r(68," Guardar Cambios "),i()()()()(),M(69,ut,1,2,"div",39)}n&2&&(c(5),x("",$(6,20,e.calendarComponent==null?null:e.calendarComponent.currentDate,"EEEE, d MMMM yyyy","es-ES")," "),c(3),x("(Total d\xEDa: ",e.formatPriceCents(e.getDayTotalCents()),")"),c(8),C("viewModeInput","day")("hideHeader",!0),c(),N("display",e.showPatientModal?"block":"none"),w("show",e.showPatientModal),c(12),k("ngModel",e.patientSearchTerm),c(3),C("ngForOf",e.filteredPatients),c(),C("ngIf",e.selectedPatient),c(7),x(" ",e.formatDate(e.selectedDate)),c(4),x(" ",e.selectedTimeSlot),c(8),C("disabled",!e.selectedPatient),c(2),N("display",e.showEditModal?"block":"none"),w("show",e.showEditModal),c(7),C("ngIf",e.editingAppointment),c(8),C("ngIf",e.showPatientModal||e.showEditModal))},dependencies:[T,B,U,Z,X,Q,H,q,G,J,K,L,Y],styles:['@charset "UTF-8";.dashboard-container[_ngcontent-%COMP%]{padding:0}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000001a;border-left:4px solid #007bff;transition:all .3s ease;display:flex;align-items:center;gap:15px}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 15px #00000026}.stat-card.stat-total[_ngcontent-%COMP%]{border-left-color:#007bff}.stat-card.stat-completed[_ngcontent-%COMP%]{border-left-color:#28a745}.stat-card.stat-upcoming[_ngcontent-%COMP%]{border-left-color:#ffc107}.stat-card.stat-revenue[_ngcontent-%COMP%]{border-left-color:#17a2b8}.stat-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px;color:#fff}.stat-total[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3)}.stat-completed[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#1e7e34)}.stat-upcoming[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc107,#e0a800)}.stat-revenue[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#17a2b8,#138496)}.stat-info[_ngcontent-%COMP%]{flex:1}.stat-number[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#2c3e50;line-height:1}.stat-label[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;font-weight:500;margin-top:5px}.appointments-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;overflow:hidden}.appointments-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-bottom:1px solid #dee2e6;padding:20px}.appointments-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.appointments-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.appointment-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px;border-bottom:1px solid #f1f3f4;transition:all .3s ease;position:relative}.appointment-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.appointment-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.appointment-item.current-appointment[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e3f2fd,#f3e5f5);border-left:4px solid #2196f3}.appointment-item.past-appointment[_ngcontent-%COMP%]{opacity:.7}.appointment-item.cancelled-appointment[_ngcontent-%COMP%]{background:#fff5f5;border-left:4px solid #dc3545}.appointment-time[_ngcontent-%COMP%]{width:80px;text-align:center;margin-right:20px}.time-display[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#2c3e50}.duration-display[_ngcontent-%COMP%]{font-size:12px;color:#6c757d;margin-top:2px}.appointment-details[_ngcontent-%COMP%]{flex:1}.patient-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#2c3e50;margin-bottom:5px}.appointment-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;font-size:14px}.status-badge[_ngcontent-%COMP%]{font-weight:500}.appointment-type[_ngcontent-%COMP%]{color:#6c757d}.appointment-actions[_ngcontent-%COMP%]{width:20px}.status-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;margin-left:auto}.status-indicator.status-completed[_ngcontent-%COMP%]{background:#28a745;box-shadow:0 0 0 3px #28a74533}.status-indicator.status-current[_ngcontent-%COMP%]{background:#007bff;box-shadow:0 0 0 3px #007bff33;animation:_ngcontent-%COMP%_pulse 2s infinite}.status-indicator.status-upcoming[_ngcontent-%COMP%]{background:#ffc107;box-shadow:0 0 0 3px #ffc10733}.status-indicator.status-cancelled[_ngcontent-%COMP%]{background:#dc3545;box-shadow:0 0 0 3px #dc354533}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #007bffb3}70%{box-shadow:0 0 0 10px #007bff00}to{box-shadow:0 0 #007bff00}}.next-appointment-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;overflow:hidden}.next-appointment-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3cd,#ffeaa7);border-bottom:1px solid #ffeaa7;padding:15px 20px}.next-appointment-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:20px}.next-appointment-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#ffc107,#e0a800);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:18px;margin-right:15px}.next-appointment-info[_ngcontent-%COMP%]{flex:1}.next-patient-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#2c3e50}.next-appointment-time[_ngcontent-%COMP%]{font-size:14px;color:#6c757d;margin-top:2px}@media (max-width: 768px){.stat-card[_ngcontent-%COMP%]{padding:15px;gap:10px}.stat-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:20px}.stat-number[_ngcontent-%COMP%]{font-size:24px}.stat-label[_ngcontent-%COMP%]{font-size:12px}.appointment-item[_ngcontent-%COMP%]{padding:15px;flex-direction:column;align-items:flex-start;gap:10px}.appointment-time[_ngcontent-%COMP%]{width:100%;text-align:left;margin-right:0;margin-bottom:10px}.appointment-details[_ngcontent-%COMP%]{width:100%}.appointment-info[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:5px}.appointment-actions[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px}}.appointments-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.appointments-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.appointments-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.appointments-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.text-success[_ngcontent-%COMP%]{color:#28a745!important}.text-primary[_ngcontent-%COMP%]{color:#007bff!important}.text-warning[_ngcontent-%COMP%]{color:#ffc107!important}.text-danger[_ngcontent-%COMP%]{color:#dc3545!important}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.stat-card[_ngcontent-%COMP%], .appointments-card[_ngcontent-%COMP%], .next-appointment-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.appointment-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .4s ease-out}.current-date-display[_ngcontent-%COMP%]{text-align:center;min-width:300px}.unified-calendar-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;border:1px solid #e9ecef;max-width:1000px;margin:0 auto}.unified-calendar-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#f8f9fa;border-bottom:1px solid #e9ecef;padding:20px;border-radius:12px 12px 0 0}.unified-calendar-card[_ngcontent-%COMP%]   .day-schedule[_ngcontent-%COMP%]{max-height:70vh;overflow-y:auto}.unified-calendar-card[_ngcontent-%COMP%]   .time-slot-row[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #f8f9fa;transition:background-color .2s;min-height:60px}.unified-calendar-card[_ngcontent-%COMP%]   .time-slot-row[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.unified-calendar-card[_ngcontent-%COMP%]   .time-slot-row.current-time[_ngcontent-%COMP%]{background-color:#fff3cd;border-left:4px solid #ffc107}.unified-calendar-card[_ngcontent-%COMP%]   .time-slot-label[_ngcontent-%COMP%]{flex:0 0 100px;padding:15px 20px;font-weight:600;color:#495057;background-color:#f8f9fa;border-right:1px solid #e9ecef;font-size:14px;display:flex;align-items:center;justify-content:center}.unified-calendar-card[_ngcontent-%COMP%]   .time-slot-content[_ngcontent-%COMP%]{flex:1;padding:10px 20px;display:flex;align-items:center}.unified-calendar-card[_ngcontent-%COMP%]   .time-slot-empty[_ngcontent-%COMP%]{color:#adb5bd;font-style:italic;font-size:14px;display:flex;align-items:center}.appointment-block-unified[_ngcontent-%COMP%]{background:#007bff;color:#fff;padding:12px 16px;border-radius:8px;width:100%;transition:all .2s;position:relative}.appointment-block-unified.past[_ngcontent-%COMP%]{background:#6c757d;opacity:.9}.appointment-block-unified.current[_ngcontent-%COMP%]{background:#28a745;box-shadow:0 0 0 3px #28a7454d;animation:_ngcontent-%COMP%_pulse 2s infinite}.appointment-block-unified.future[_ngcontent-%COMP%]{background:#007bff}.appointment-block-unified.cancelled[_ngcontent-%COMP%]{background:#dc3545;text-decoration:line-through;opacity:.8}.appointment-main-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.appointment-patient[_ngcontent-%COMP%]{font-weight:600;font-size:15px;display:flex;align-items:center}.appointment-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{font-size:11px;padding:2px 8px;border-radius:12px;background:#fff3;border:1px solid rgba(255,255,255,.3)}.appointment-details[_ngcontent-%COMP%]{font-size:13px;opacity:.9;display:flex;align-items:center}.appointment-type[_ngcontent-%COMP%]{display:flex;align-items:center}.empty-day-message[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#6c757d}.empty-day-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:20px;opacity:.5}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 0 #28a745b3}70%{box-shadow:0 0 0 10px #28a74500}to{box-shadow:0 0 #28a74500}}']});let l=p;return l})();var Dt=(()=>{let p=class p{constructor(t){this.router=t}goToPatients(){this.router.navigate(["/pacientes"])}goToCalendar(){this.router.navigate(["/agenda"])}goToConfig(){this.router.navigate(["/configuracion"])}goToAgenda(){this.router.navigate(["/agenda"])}goToSettings(){this.router.navigate(["/configuracion"])}getCurrentYear(){return new Date().getFullYear()}};p.\u0275fac=function(n){return new(n||p)(_(I))},p.\u0275cmp=S({type:p,selectors:[["app-inicio"]],decls:12,vars:1,consts:[[1,"container-fluid","vh-100","d-flex","flex-column"],[1,"row","flex-grow-1","g-0"],[1,"col-12","d-flex","align-items-center","justify-content-center","bg-light"],[1,"container"],[1,"row","mb-5"],[1,"col-12"],[1,"row","bg-dark","text-white","py-3","mt-0"],[1,"col-12","text-center"],[1,"text-muted"],[1,"bi","bi-heart","me-2"]],template:function(n,e){n&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),f(6,"app-dashboard"),i()()()()(),o(7,"div",6)(8,"div",7)(9,"small",8),f(10,"i",9),r(11),i()()()()),n&2&&(c(11),x(" Sistema de Gesti\xF3n de Masajes - ",e.getCurrentYear()," "))},dependencies:[T,at],styles:[".action-card[_ngcontent-%COMP%]{transition:all .3s ease;cursor:pointer}.action-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 25px #00000026!important}.action-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{transition:all .3s ease}.action-card[_ngcontent-%COMP%]:hover   .card-body[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#fff)}.icon-container[_ngcontent-%COMP%]{transition:transform .3s ease}.action-card[_ngcontent-%COMP%]:hover   .icon-container[_ngcontent-%COMP%]{transform:scale(1.1)}.bg-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef)}.display-1[_ngcontent-%COMP%]{font-size:4rem}@media (max-width: 768px){.display-1[_ngcontent-%COMP%]{font-size:3rem}.display-4[_ngcontent-%COMP%]{font-size:2rem}.action-card[_ngcontent-%COMP%]{margin-bottom:1rem}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease forwards}.card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.2s}"]});let l=p;return l})();export{Dt as InicioComponent};
