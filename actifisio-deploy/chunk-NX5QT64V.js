import{P as h,T as p,a as r,bc as o,cc as a,dc as c,jc as l}from"./chunk-X7ILVH5W.js";var g=(()=>{let e=class e{constructor(t,i){this.http=t,this.clientConfig=i,this.apiUrl=`${this.clientConfig.getApiUrl()}/credits`,this.httpOptions={headers:new o(r({"Content-Type":"application/json"},this.clientConfig.getTenantHeader()))}}getPatientCredits(t){let i=new a().set("patientId",t);return this.http.get(this.apiUrl,r({params:i},this.httpOptions))}createCreditPack(t){return this.http.post(`${this.apiUrl}/packs`,t,this.httpOptions)}redeemCredits(t,i,s){return this.http.post(`${this.apiUrl}/redeem`,{patientId:t,appointmentId:i,units:s},this.httpOptions)}getCreditHistory(t,i=1,s=20){let m=new a().set("patientId",t).set("page",i.toString()).set("limit",s.toString());return this.http.get(`${this.apiUrl}/history`,r({params:m},this.httpOptions))}deleteCreditPack(t){return this.http.delete(`${this.apiUrl}/packs/${t}`,this.httpOptions)}updatePackPaymentStatus(t,i){return this.http.patch(`${this.apiUrl}/packs/${t}/payment`,{paid:i},this.httpOptions)}updatePackUnits(t,i){return this.http.patch(`${this.apiUrl}/packs/${t}/units`,{unitsRemaining:i},this.httpOptions)}formatUnitsToTime(t){let i=Math.floor(t/2),s=t%2*30;return i>0&&s>0?`${i}h ${s}m`:i>0?`${i}h`:`${s}m`}minutesToUnits(t){return t/30}unitsToMinutes(t){return t*30}};e.\u0275fac=function(i){return new(i||e)(p(c),p(l))},e.\u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();export{g as a};
