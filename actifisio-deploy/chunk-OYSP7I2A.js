import{a as le}from"./chunk-NX5QT64V.js";import{c as A,e as L}from"./chunk-4E2VJWSK.js";import{a as se}from"./chunk-4IIHAL6L.js";import{a as j,b as R,d as U,e as G,f as Q,g as Y,h as H,i as J,l as K,m as X,n as Z,o as $,p as ee,q as te,r as ie,s as ne,u as ae,v as oe,x as re,y as ce}from"./chunk-IEVIATPJ.js";import{$a as w,Ea as k,Gb as W,Ia as f,Ub as z,Va as p,Vb as B,Wa as a,Xa as o,Xb as q,Ya as g,Z as d,_ as m,ab as u,bb as s,fb as T,hb as F,jb as c,kb as y,lb as x,mb as N,nb as I,ob as v,pb as C,qb as P,rb as E,ta as M,ua as r,ya as S,zb as O}from"./chunk-X7ILVH5W.js";function de(l,_){l&1&&(a(0,"option",73),c(1,"Seleccione una localidad"),o())}function me(l,_){if(l&1&&(a(0,"option",74),c(1),o()),l&2){let t=_.$implicit;p("value",t),r(),y(t)}}function pe(l,_){l&1&&(a(0,"option",73),c(1,"Seleccione una provincia"),o())}function _e(l,_){if(l&1&&(a(0,"option",74),c(1),o()),l&2){let t=_.$implicit;p("value",t.name),r(),x("",t.name," ")}}function ge(l,_){if(l&1){let t=w();a(0,"div",4)(1,"div",28)(2,"div",29)(3,"div",30)(4,"h5",6),g(5,"i",31),c(6),o()(),a(7,"div",32)(8,"form",33,0),u("ngSubmit",function(){d(t);let e=s();return m(e.savePatient())}),a(10,"div",34)(11,"div",35)(12,"label",36),c(13,"Nombre *"),o(),a(14,"input",37),P("ngModelChange",function(e){d(t);let n=s();return C(n.patientFormData.firstName,e)||(n.patientFormData.firstName=e),m(e)}),o()(),a(15,"div",35)(16,"label",38),c(17,"Apellidos *"),o(),a(18,"input",39),P("ngModelChange",function(e){d(t);let n=s();return C(n.patientFormData.lastName,e)||(n.patientFormData.lastName=e),m(e)}),o(),a(19,"div",40)(20,"label",41),c(21," DNI * "),a(22,"small",42),g(23,"i",43),c(24,"Campo \xFAnico "),o()(),a(25,"input",44),P("ngModelChange",function(e){d(t);let n=s();return C(n.patientFormData.dni,e)||(n.patientFormData.dni=e),m(e)}),o()()()(),a(26,"div",34)(27,"div",35)(28,"label",45),c(29,"Tel\xE9fono *"),o(),a(30,"input",46),P("ngModelChange",function(e){d(t);let n=s();return C(n.patientFormData.phone,e)||(n.patientFormData.phone=e),m(e)}),o()(),a(31,"div",35)(32,"label",47),c(33,"Tel\xE9fono 2"),o(),a(34,"input",48),P("ngModelChange",function(e){d(t);let n=s();return C(n.patientFormData.phone2,e)||(n.patientFormData.phone2=e),m(e)}),o()()(),a(35,"div",34)(36,"div",35)(37,"label",49),c(38," Email "),a(39,"small",42),g(40,"i",43),c(41,"Campo \xFAnico "),o()(),a(42,"input",50),P("ngModelChange",function(e){d(t);let n=s();return C(n.patientFormData.email,e)||(n.patientFormData.email=e),m(e)}),o()(),a(43,"div",35)(44,"label",51),c(45,"Contacto Familiar"),o(),a(46,"input",52),P("ngModelChange",function(e){d(t);let n=s();return C(n.patientFormData.family_contact,e)||(n.patientFormData.family_contact=e),m(e)}),o()()(),a(47,"div",34)(48,"div",35)(49,"label",53),c(50,"Fecha de Nacimiento"),o(),a(51,"input",54),P("ngModelChange",function(e){d(t);let n=s();return C(n.patientFormData.birthDate,e)||(n.patientFormData.birthDate=e),m(e)}),o()(),a(52,"div",35)(53,"label",55),c(54,"Direcci\xF3n"),o(),a(55,"input",56),P("ngModelChange",function(e){d(t);let n=s();return C(n.patientFormData.address,e)||(n.patientFormData.address=e),m(e)}),o()()(),a(56,"div",34)(57,"div",57)(58,"label",58),c(59,"CP"),o(),a(60,"input",59),P("ngModelChange",function(e){d(t);let n=s();return C(n.patientFormData.cp,e)||(n.patientFormData.cp=e),m(e)}),u("ngModelChange",function(e){d(t);let n=s();return m(n.onCpChange(e))}),o()(),a(61,"div",57)(62,"label",60),c(63,"Localidad"),o(),a(64,"select",61),P("ngModelChange",function(e){d(t);let n=s();return C(n.patientFormData.city,e)||(n.patientFormData.city=e),m(e)}),f(65,de,2,0,"option",62)(66,me,2,2,"option",21),o()(),a(67,"div",57)(68,"label",63),c(69,"Provincia"),o(),a(70,"select",64),P("ngModelChange",function(e){d(t);let n=s();return C(n.patientFormData.province,e)||(n.patientFormData.province=e),m(e)}),u("ngModelChange",function(e){d(t);let n=s();return m(n.onProvinceChange(e))}),f(71,pe,2,0,"option",62)(72,_e,2,2,"option",21),o()()(),a(73,"div",65)(74,"label",66),c(75,"Notas"),o(),a(76,"textarea",67),P("ngModelChange",function(e){d(t);let n=s();return C(n.patientFormData.notes,e)||(n.patientFormData.notes=e),m(e)}),o()(),a(77,"div",68)(78,"button",69),g(79,"i",70),c(80),o(),a(81,"button",71),u("click",function(){d(t);let e=s();return m(e.cancelForm())}),g(82,"i",72),c(83," Cancelar "),o()()()()()()()}if(l&2){let t=s();r(6),x(" ",t.selectedPatient?"Editar Paciente":"Nuevo Paciente"," "),r(8),v("ngModel",t.patientFormData.firstName),r(4),v("ngModel",t.patientFormData.lastName),r(7),v("ngModel",t.patientFormData.dni),r(5),v("ngModel",t.patientFormData.phone),r(4),v("ngModel",t.patientFormData.phone2),r(8),v("ngModel",t.patientFormData.email),r(4),v("ngModel",t.patientFormData.family_contact),r(5),v("ngModel",t.patientFormData.birthDate),r(4),v("ngModel",t.patientFormData.address),r(5),v("ngModel",t.patientFormData.cp),r(4),v("ngModel",t.patientFormData.city),r(),p("ngIf",!t.patientFormData.city),r(),p("ngForOf",t.locationCities),r(4),v("ngModel",t.patientFormData.province),r(),p("ngIf",!t.patientFormData.province),r(),p("ngForOf",t.locationProvinces),r(4),v("ngModel",t.patientFormData.notes),r(2),p("disabled",!t.canSave()),r(2),x(" ",t.selectedPatient?"Actualizar":"Guardar"," ")}}function ue(l,_){if(l&1&&(a(0,"option",74),c(1),o()),l&2){let t=_.$implicit;p("value",t),r(),y(t)}}function he(l,_){if(l&1){let t=w();a(0,"li",76)(1,"button",81),u("click",function(){let e=d(t).$implicit,n=s(2);return m(n.goToPage(e))}),c(2),o()()}if(l&2){let t=_.$implicit,i=s(2);F("active",t===i.currentPage),r(2),y(t)}}function xe(l,_){if(l&1){let t=w();a(0,"nav")(1,"ul",75)(2,"li",76)(3,"button",77),u("click",function(){d(t);let e=s();return m(e.previousPage())}),g(4,"i",78),o()(),f(5,he,3,3,"li",79),a(6,"li",76)(7,"button",77),u("click",function(){d(t);let e=s();return m(e.nextPage())}),g(8,"i",80),o()()()()}if(l&2){let t=s();r(2),F("disabled",t.currentPage<=1),r(),p("disabled",t.currentPage<=1),r(2),p("ngForOf",t.getPageRange()),r(),F("disabled",t.currentPage>=t.totalPages),r(),p("disabled",t.currentPage>=t.totalPages)}}function fe(l,_){l&1&&(a(0,"div",82)(1,"div",83)(2,"span",84),c(3,"Cargando..."),o()(),a(4,"p",85),c(5,"Cargando pacientes..."),o()())}function ve(l,_){if(l&1&&(a(0,"div",115),c(1),o()),l&2){let t=s().$implicit,i=s(2);r(),x(" ",i.calculateAge(t.birthDate)," a\xF1os ")}}function Ce(l,_){if(l&1&&(a(0,"a",97),g(1,"i",116),c(2),o()),l&2){let t=s().$implicit;p("href",E("tel:",t.phone2),M),r(2),x(" ",t.phone2," ")}}function Pe(l,_){if(l&1&&(a(0,"a",117),g(1,"i",118),c(2),o()),l&2){let t=s().$implicit;p("href",E("mailto:",t.email),M),r(2),x(" ",t.email," ")}}function be(l,_){if(l&1&&(a(0,"div",115),g(1,"i",119),c(2),o()),l&2){let t=s().$implicit;r(2),x(" ",t.family_contact," ")}}function ye(l,_){if(l&1&&(a(0,"div",115),g(1,"i",120),a(2,"span",121),c(3),o()()),l&2){let t=s().$implicit;r(2),p("title",t.notes),r(),x(" ",t.notes," ")}}function we(l,_){l&1&&(a(0,"span",115),c(1,"-"),o())}function Se(l,_){if(l&1&&(a(0,"small",42),c(1),o()),l&2){let t=s().$implicit;r(),y(t.pricePreview)}}function Fe(l,_){if(l&1){let t=w();a(0,"tr")(1,"td")(2,"div")(3,"strong",95),u("click",function(){let e=d(t).$implicit,n=s(2);return m(n.viewPatient(e))}),c(4),o(),f(5,ve,2,1,"div",96),o()(),a(6,"td")(7,"div")(8,"a",97),g(9,"i",98),c(10),o(),f(11,Ce,3,3,"a",99)(12,Pe,3,3,"a",100)(13,be,3,1,"div",96),o()(),a(14,"td"),f(15,ye,4,2,"div",101)(16,we,2,0,"ng-template",null,1,O),o(),a(18,"td")(19,"div",102)(20,"span",103),c(21),o(),a(22,"button",104),u("click",function(){let e=d(t).$implicit,n=s(2);return m(n.addSessionsToPatient(e))}),g(23,"i",105),o(),f(24,Se,2,1,"small",106),o()(),a(25,"td")(26,"span",107),c(27),o()(),a(28,"td",90)(29,"div",108)(30,"button",109),u("click",function(){let e=d(t).$implicit,n=s(2);return m(n.viewPatient(e))}),g(31,"i",110),o(),a(32,"button",111),u("click",function(){let e=d(t).$implicit,n=s(2);return m(n.editPatient(e))}),g(33,"i",112),o(),a(34,"button",113),u("click",function(){let e=d(t).$implicit,n=s(2);return m(n.deletePatient(e))}),g(35,"i",114),o()()()()}if(l&2){let t=_.$implicit,i=T(17),e=s(2);r(4),y(e.getFullName(t)),r(),p("ngIf",t.birthDate),r(3),p("href",E("tel:",t.phone),M),r(2),x(" ",t.phone," "),r(),p("ngIf",t.phone2),r(),p("ngIf",t.email),r(),p("ngIf",t.family_contact),r(2),p("ngIf",t.notes)("ngIfElse",i),r(6),x(" ",t.activeSessions||0," "),r(3),p("ngIf",t.pricePreview),r(3),x(" ",(t._count==null?null:t._count.appointments)||0," ")}}function Me(l,_){if(l&1&&(a(0,"div",143),c(1),o()),l&2){let t=s().$implicit,i=s(2);r(),x(" ",i.calculateAge(t.birthDate)," a\xF1os ")}}function Ee(l,_){if(l&1&&(a(0,"p",127),g(1,"i",116),a(2,"a",128),c(3),o()()),l&2){let t=s().$implicit;r(2),p("href",E("tel:",t.phone2),M),r(),x(" ",t.phone2," ")}}function De(l,_){if(l&1&&(a(0,"p",127),g(1,"i",118),a(2,"a",128),c(3),o()()),l&2){let t=s().$implicit;r(2),p("href",E("mailto:",t.email),M),r(),x(" ",t.email," ")}}function Ve(l,_){if(l&1&&(a(0,"p",144),g(1,"i",119),c(2),o()),l&2){let t=s().$implicit;r(2),x(" ",t.family_contact," ")}}function Te(l,_){if(l&1&&(a(0,"p",144),g(1,"i",120),c(2),o()),l&2){let t=s().$implicit;r(2),x(" ",t.notes," ")}}function Ie(l,_){if(l&1&&(a(0,"div",145),c(1),o()),l&2){let t=s().$implicit;r(),y(t.pricePreview)}}function ke(l,_){if(l&1){let t=w();a(0,"div",122)(1,"div",123)(2,"div",32)(3,"div",124)(4,"div")(5,"h6",125)(6,"span",95),u("click",function(){let e=d(t).$implicit,n=s(2);return m(n.viewPatient(e))}),c(7),o()(),f(8,Me,2,1,"div",126),a(9,"p",127),g(10,"i",98),a(11,"a",128),c(12),o()(),f(13,Ee,4,3,"p",129)(14,De,4,3,"p",129)(15,Ve,3,1,"p",130)(16,Te,3,1,"p",130),a(17,"div",131)(18,"span",103),c(19),o(),a(20,"button",104),u("click",function(){let e=d(t).$implicit,n=s(2);return m(n.addSessionsToPatient(e))}),g(21,"i",105),o(),a(22,"span",107),c(23),o(),f(24,Ie,2,1,"div",132),o()(),a(25,"div",133)(26,"button",134),g(27,"i",135),o(),a(28,"ul",136)(29,"li")(30,"a",137),u("click",function(){let e=d(t).$implicit,n=s(2);return m(n.viewPatient(e))}),g(31,"i",138),c(32,"Ver detalles "),o()(),a(33,"li")(34,"a",137),u("click",function(){let e=d(t).$implicit,n=s(2);return m(n.editPatient(e))}),g(35,"i",139),c(36,"Editar "),o()(),a(37,"li"),g(38,"hr",140),o(),a(39,"li")(40,"a",141),u("click",function(){let e=d(t).$implicit,n=s(2);return m(n.deletePatient(e))}),g(41,"i",142),c(42,"Eliminar "),o()()()()()()()()}if(l&2){let t=_.$implicit,i=s(2);r(7),x(" ",i.getFullName(t)," "),r(),p("ngIf",t.birthDate),r(3),p("href",E("tel:",t.phone),M),r(),x(" ",t.phone," "),r(),p("ngIf",t.phone2),r(),p("ngIf",t.email),r(),p("ngIf",t.family_contact),r(),p("ngIf",t.notes),r(3),y(t.activeSessions||0),r(4),y((t._count==null?null:t._count.appointments)||0),r(),p("ngIf",t.pricePreview)}}function Ne(l,_){if(l&1){let t=w();a(0,"li",76)(1,"button",81),u("click",function(){let e=d(t).$implicit,n=s(3);return m(n.goToPage(e))}),c(2),o()()}if(l&2){let t=_.$implicit,i=s(3);F("active",t===i.currentPage),r(2),y(t)}}function Oe(l,_){if(l&1){let t=w();a(0,"div",146)(1,"div",28)(2,"div",147)(3,"div",8),c(4),o(),a(5,"nav")(6,"ul",148)(7,"li",76)(8,"button",77),u("click",function(){d(t);let e=s(2);return m(e.previousPage())}),g(9,"i",78),o()(),f(10,Ne,3,3,"li",79),a(11,"li",76)(12,"button",77),u("click",function(){d(t);let e=s(2);return m(e.nextPage())}),g(13,"i",80),o()()()()()()()}if(l&2){let t=s(2);r(4),I(" Mostrando ",(t.currentPage-1)*t.pageSize+1," - ",t.Math.min(t.currentPage*t.pageSize,t.totalPatients)," de ",t.totalPatients," pacientes "),r(3),F("disabled",t.currentPage<=1),r(),p("disabled",t.currentPage<=1),r(2),p("ngForOf",t.getPageRange()),r(),F("disabled",t.currentPage>=t.totalPages),r(),p("disabled",t.currentPage>=t.totalPages)}}function We(l,_){if(l&1&&(a(0,"div",34)(1,"div",28)(2,"div",29)(3,"div",86)(4,"div",87)(5,"table",88)(6,"thead",89)(7,"tr")(8,"th"),c(9,"Paciente"),o(),a(10,"th"),c(11,"Contacto"),o(),a(12,"th"),c(13,"Notas"),o(),a(14,"th"),c(15,"Sesiones"),o(),a(16,"th"),c(17,"Citas"),o(),a(18,"th",90),c(19,"Acciones"),o()()(),a(20,"tbody"),f(21,Fe,36,13,"tr",91),o()()(),a(22,"div",92),f(23,ke,43,12,"div",93),o()()(),f(24,Oe,14,10,"div",94),o()()),l&2){let t=s();r(21),p("ngForOf",t.filteredPatients)("ngForTrackBy",t.trackByPatientId),r(2),p("ngForOf",t.filteredPatients)("ngForTrackBy",t.trackByPatientId),r(),p("ngIf",t.totalPages>1&&!t.loading&&t.filteredPatients.length>0)}}function ze(l,_){if(l&1){let t=w();a(0,"button",10),u("click",function(){d(t);let e=s(2);return m(e.showCreateForm=!0)}),g(1,"i",11),c(2," Agregar Primer Paciente "),o()}}function Be(l,_){if(l&1&&(a(0,"div",149)(1,"div",65),g(2,"i",150),o(),a(3,"h4",8),c(4),o(),a(5,"p",8),c(6),o(),f(7,ze,3,0,"button",151),o()),l&2){let t=s();r(4),y(t.searchTerm?"No se encontraron pacientes":"No hay pacientes registrados"),r(2),x(" ",t.searchTerm?"Intenta con otros t\xE9rminos de b\xFAsqueda":"Comienza agregando tu primer paciente"," "),r(),p("ngIf",!t.searchTerm)}}function qe(l,_){if(l&1&&(a(0,"div",115),c(1),o()),l&2){let t=s(2);r(),I(" Original: ",t.creditFormData.quantity||0," ",t.creditFormData.type==="bono"?"bono(s)":"sesi\xF3n(es)"," de ",t.creditFormData.minutes," min ")}}function Ae(l,_){if(l&1){let t=w();a(0,"div",4)(1,"div",28)(2,"div",152)(3,"div",153)(4,"h5",6),g(5,"i",154),c(6),o(),a(7,"button",155),u("click",function(){d(t);let e=s();return m(e.hideCreditForm())}),o()(),a(8,"div",32)(9,"form",33,2),u("ngSubmit",function(){d(t);let e=s();return m(e.addCredits())}),a(11,"div",34)(12,"div",156)(13,"label",157),c(14,"Tipo *"),o(),a(15,"select",158),P("ngModelChange",function(e){d(t);let n=s();return C(n.creditFormData.type,e)||(n.creditFormData.type=e),m(e)}),u("ngModelChange",function(){d(t);let e=s();return m(e.onFormValueChange())})("change",function(){d(t);let e=s();return m(e.onFormValueChange())}),a(16,"option",159),c(17,"Sesi\xF3n"),o(),a(18,"option",160),c(19,"Bono"),o()()(),a(20,"div",156)(21,"label",161),c(22,"Duraci\xF3n *"),o(),a(23,"select",162),P("ngModelChange",function(e){d(t);let n=s();return C(n.creditFormData.minutes,e)||(n.creditFormData.minutes=e),m(e)}),u("ngModelChange",function(){d(t);let e=s();return m(e.onFormValueChange())})("change",function(){d(t);let e=s();return m(e.onFormValueChange())}),a(24,"option",163),c(25,"30 minutos (1/2h sesi\xF3n)"),o(),a(26,"option",164),c(27,"60 minutos (1h sesi\xF3n)"),o()()(),a(28,"div",156)(29,"label",165),c(30,"Cantidad *"),o(),a(31,"input",166),P("ngModelChange",function(e){d(t);let n=s();return C(n.creditFormData.quantity,e)||(n.creditFormData.quantity=e),m(e)}),u("ngModelChange",function(){d(t);let e=s();return m(e.onFormValueChange())})("input",function(){d(t);let e=s();return m(e.onFormValueChange())}),o()(),a(32,"div",167)(33,"div",168)(34,"div",115),c(35,"Total a crear:"),o(),a(36,"div",169),c(37),o(),f(38,qe,2,3,"div",96),o()()(),a(39,"div",65)(40,"label",170),c(41,"Notas"),o(),a(42,"textarea",171),P("ngModelChange",function(e){d(t);let n=s();return C(n.creditFormData.notes,e)||(n.creditFormData.notes=e),m(e)}),o()(),a(43,"div",65)(44,"div",172)(45,"input",173),P("ngModelChange",function(e){d(t);let n=s();return C(n.creditFormData.paid,e)||(n.creditFormData.paid=e),m(e)}),o(),a(46,"label",174),g(47,"i",175),a(48,"strong"),c(49,"Pagado"),o()(),a(50,"div",176),c(51," Marcar si el pago de estas sesiones ya ha sido recibido "),o()()(),a(52,"div",68)(53,"button",69),g(54,"i",70),c(55," A\xF1adir "),o(),a(56,"button",71),u("click",function(){d(t);let e=s();return m(e.hideCreditForm())}),g(57,"i",72),c(58," Cancelar "),o()()()()()()()}if(l&2){let t=T(10),i=s();r(6),N(" A\xF1adir sesiones o bonos - ",i.selectedPatientForCredits==null?null:i.selectedPatientForCredits.firstName," ",i.selectedPatientForCredits==null?null:i.selectedPatientForCredits.lastName," "),r(9),v("ngModel",i.creditFormData.type),r(8),v("ngModel",i.creditFormData.minutes),r(8),v("ngModel",i.creditFormData.quantity),r(6),x(" ",i.equivalentSessions," sesiones de 1/2h (30 min) "),r(),p("ngIf",i.creditFormData.type==="bono"||i.creditFormData.minutes===60),r(4),v("ngModel",i.creditFormData.notes),r(3),v("ngModel",i.creditFormData.paid),r(8),p("disabled",!t.form.valid||i.loading)}}var Xe=(()=>{let _=class _{constructor(i,e,n,h,b,D,V){this.patientService=i,this.notificationService=e,this.router=n,this.route=h,this.creditService=b,this.cdr=D,this.utils=V,this.patients=[],this.filteredPatients=[],this.loading=!1,this.searchTerm="",this.currentPage=1,this.pageSize=10,this.totalPatients=0,this.totalPages=0,this.pageSizeOptions=[10,50,100],this.Math=Math,this.showCreateForm=!1,this.selectedPatient=null,this.patientFormData={firstName:"",lastName:"",phone:"",phone2:"",email:"",address:"",dni:"",cp:"",city:"",province:"",birthDate:"",family_contact:"",notes:""},this.locationProvinces=[],this.locationCities=[],this.showAddCreditForm=!1,this.selectedPatientForCredits=null,this.creditFormData={type:"sesion",quantity:1,minutes:30,paid:!1,notes:""}}ngOnInit(){this.loadPatients(),this.patientService.getLocations().subscribe({next:i=>{let e=i.locations||i;if(this.locationProvinces=e.provinces||[],e.cities){let n=this.locationProvinces[0]?.name;this.locationCities=n?e.cities[n]||[]:[]}},error:i=>{console.warn("No se pudieron cargar localizaciones:",i)}}),this.route.queryParams.subscribe(i=>{i.edit&&this.loadPatientsAndEdit(i.edit)})}loadPatients(){this.loading=!0;let i={page:this.currentPage,limit:this.pageSize,search:this.searchTerm.trim()||void 0};this.patientService.getPatients(i).subscribe({next:e=>{this.patients=e.patients,this.filteredPatients=e.patients,this.totalPatients=e.pagination.total,this.totalPages=e.pagination.pages,this.loading=!1,this.cdr.detectChanges(),this.filteredPatients.forEach(n=>this.loadPricePreview(n))},error:e=>{console.error("Error loading patients:",e),this.notificationService.showError("Error al cargar pacientes"),this.loading=!1}})}formatPriceCents(i){return i?(i/100).toFixed(i%100===0?0:2).replace(".",",")+" \u20AC":""}loadPricePreview(i){this.creditService.getPatientCredits(i.id).subscribe({next:e=>{let n=e.creditPacks||[];if(n.length>0){let b=n.filter(D=>(D.unitsRemaining||0)>0).reduce((D,V)=>D+(Number(V.priceCents)||0),0);i.pricePreview=b>0?this.formatPriceCents(b):""}else i.pricePreview="";this.cdr.detectChanges()},error:e=>{i.pricePreview=""}})}loadPatientsAndEdit(i){this.patientService.getPatientById(i).subscribe({next:e=>{this.editPatient(e),this.router.navigate(["/pacientes"])},error:e=>{console.error("Error loading patient for edit:",e),this.notificationService.showError("Error al cargar el paciente para editar");let n=this.patients.find(h=>h.id===i);n&&(this.editPatient(n),this.router.navigate(["/pacientes"]))}})}filterPatients(){this.onSearchChange()}savePatient(){if(!this.patientFormData.firstName||!this.patientFormData.lastName||!this.patientFormData.phone){this.notificationService.showError("Por favor complete los campos obligatorios");return}if(!this.patientFormData.dni||!this.patientFormData.dni.trim()){this.notificationService.showError("DNI es obligatorio");return}console.log("\u{1F4E4} Enviando datos del paciente:",this.patientFormData),this.loading=!0,this.selectedPatient?(console.log("\u{1F4DD} Actualizando paciente ID:",this.selectedPatient.id),this.patientService.updatePatient(this.selectedPatient.id,this.patientFormData).subscribe({next:i=>{let e=this.patients.findIndex(n=>n.id===i.id);e!==-1&&(this.patients[e]=i,this.filterPatients()),this.notificationService.showSuccess("Paciente actualizado exitosamente"),this.cancelForm(),this.loadPatients(),this.loading=!1},error:i=>{console.error("Error updating patient:",i),this.notificationService.showError("Error al actualizar el paciente"),this.loading=!1}})):(console.log("\u{1F195} Creando nuevo paciente"),this.patientService.createPatient(this.patientFormData).subscribe({next:i=>{this.patients.push(i),this.filterPatients(),this.notificationService.showSuccess("Paciente creado exitosamente"),this.cancelForm(),this.loading=!1},error:i=>{console.error("Error creating patient:",i),this.notificationService.showError("Error al crear el paciente"),this.loading=!1}}))}onCpChange(i){let e=(i||"").toString().trim();this.patientFormData.cp=e,e.length===5&&/^\d{5}$/.test(e)&&this.patientService.lookupByCp(e).subscribe({next:n=>{n&&n.province?(this.patientFormData.province=n.province,this.onProvinceChange(n.province||""),n.cities&&n.cities.length===1&&(this.patientFormData.city=n.cities[0])):n&&n.provinces&&n.provinces.length===1&&(this.patientFormData.province=n.provinces[0].name,this.onProvinceChange(this.patientFormData.province||""))},error:n=>{console.debug("Lookup CP fall\xF3:",n?.message||n)}})}cancelForm(){this.showCreateForm=!1,this.selectedPatient=null,this.resetForm()}toggleCreateForm(){this.showCreateForm?this.cancelForm():this.showCreateForm=!0}resetForm(){this.patientFormData={firstName:"",lastName:"",phone:"",phone2:"",email:"",address:"",dni:"",cp:"",city:"",province:"",birthDate:"",family_contact:"",notes:""}}canSave(){if(this.loading)return!1;let i=(this.patientFormData.firstName||"").toString().trim(),e=(this.patientFormData.lastName||"").toString().trim(),n=(this.patientFormData.phone||"").toString().trim(),h=(this.patientFormData.dni||"").toString().trim();return!!(i&&e&&n&&h)}editPatient(i){console.log("\u{1F50D} Editando paciente:",i),console.log("\u{1F50D} DNI disponible:",i.dni),console.log("\u{1F50D} Datos completos:",{id:i.id,firstName:i.firstName,lastName:i.lastName,dni:i.dni,cp:i.cp,city:i.city,province:i.province}),!i.dni||i.dni===void 0?(console.log("\u26A0\uFE0F Paciente no tiene DNI, cargando datos completos..."),this.loading=!0,this.patientService.getPatientById(i.id).subscribe({next:e=>{console.log("\u2705 Datos completos cargados:",e),this.editPatientWithFullData(e),this.loading=!1},error:e=>{console.error("Error loading patient details:",e),this.notificationService.showError("Error al cargar los datos del paciente"),this.loading=!1}})):(console.log("\u2705 Paciente tiene todos los datos, editando directamente"),this.editPatientWithFullData(i))}editPatientWithFullData(i){this.selectedPatient=i,this.showCreateForm=!0;let e="";if(i.birthDate)try{let n=new Date(i.birthDate);isNaN(n.getTime())||(e=n.toISOString().split("T")[0])}catch(n){console.error("Error formateando fecha:",n)}this.patientFormData={firstName:i.firstName,lastName:i.lastName,phone:i.phone,phone2:i.phone2||"",email:i.email||"",address:i.address||"",dni:i.dni||"",cp:i.cp||"",city:i.city||"",province:i.province||"",birthDate:e,family_contact:i.family_contact||"",notes:i.notes||""},this.patientFormData.province&&this.onProvinceChange(this.patientFormData.province)}onProvinceChange(i){let e=(i||"").toString().trim();if(!e){this.locationCities=[],this.patientFormData.city="";return}this.patientService.getLocations().subscribe({next:n=>{let h=n.locations||n;this.locationCities=h.cities&&h.cities[e]?h.cities[e]:[],this.patientFormData.city&&!this.locationCities.includes(this.patientFormData.city)&&(this.patientFormData.city="")},error:()=>{this.locationCities=[],this.patientFormData.city=""}})}viewPatient(i){this.router.navigate(["/pacientes",i.id])}deletePatient(i){confirm(`\xBFEst\xE1 seguro de que desea eliminar al paciente ${this.getFullName(i)}? Esta acci\xF3n eliminar\xE1 tambi\xE9n todas sus citas, packs de cr\xE9ditos y archivos asociados.`)&&(this.loading=!0,this.patientService.deletePatient(i.id).subscribe({next:()=>{this.patients=this.patients.filter(e=>e.id!==i.id),this.filterPatients(),this.notificationService.showSuccess("Paciente eliminado exitosamente"),this.loading=!1},error:e=>{console.error("Error deleting patient:",e),this.notificationService.showError("Error al eliminar el paciente"),this.loading=!1}}))}getFullName(i){return`${i.firstName} ${i.lastName}`}calculateAge(i){if(!i)return 0;let e=new Date,n=new Date(i),h=e.getFullYear()-n.getFullYear(),b=e.getMonth()-n.getMonth();return(b<0||b===0&&e.getDate()<n.getDate())&&h--,h}formatDate(i){return this.utils.formatDate(i)}trackByPatientId(i,e){return e.id}openEditPatientModalById(i){let e=this.patients.find(n=>String(n.id)===String(i));e?this.editPatient(e):this.patientService.getPatientById(i).subscribe({next:n=>{this.editPatient(n)},error:n=>{console.error("Error finding patient:",n),this.notificationService.showError("No se encontr\xF3 el paciente para editar")}})}addSessionsToPatient(i){this.selectedPatientForCredits=i,this.showAddCreditForm=!0,this.resetCreditForm()}showCreditForm(i){this.selectedPatientForCredits=i,this.showAddCreditForm=!0,this.resetCreditForm()}hideCreditForm(){this.showAddCreditForm=!1,this.selectedPatientForCredits=null,this.resetCreditForm()}resetCreditForm(){this.creditFormData={type:"sesion",quantity:1,minutes:30,paid:!1,notes:""}}onFormValueChange(){console.log("Form value changed:",this.creditFormData),this.cdr.detectChanges()}get equivalentSessions(){if(!this.creditFormData?.quantity)return 0;let i=this.creditFormData.quantity;return console.log("Calculating equivalent sessions:",{quantity:this.creditFormData.quantity,type:this.creditFormData.type,minutes:this.creditFormData.minutes,minutesType:typeof this.creditFormData.minutes}),this.creditFormData.type==="bono"&&(i*=5,console.log("After bono multiplication:",i)),Number(this.creditFormData.minutes)===60&&(i*=2,console.log("After 60min multiplication:",i)),console.log("Final result:",i),i}calculateEquivalentSessions(){return this.equivalentSessions}addCredits(){if(!this.selectedPatientForCredits)return;let i=this.creditFormData.type==="sesion"?"sesion":"bono",e={patientId:this.selectedPatientForCredits.id,type:i,minutes:Number(this.creditFormData.minutes),quantity:Number(this.creditFormData.quantity)||1,paid:!!this.creditFormData.paid,notes:this.creditFormData.notes||void 0};console.log("Creating credit pack with data (normalized):",e),this.creditService.createCreditPack(e).subscribe({next:n=>{console.log("Credit pack created successfully:",n),this.notificationService.showSuccess("Sesiones a\xF1adidos correctamente"),this.hideCreditForm(),this.loadPatients(),this.cdr.detectChanges()},error:n=>{console.error("Error adding credit (detailed):",n);let h=n&&(n.error?.message||n.message||n.statusText||n.status)||"Error desconocido";this.notificationService.showError(`Error al a\xF1adir Sesiones: ${h}`)}})}getCreditTypeLabel(i){return this.utils.getCreditTypeLabel(i)}getMinutesLabel(i){return this.utils.getMinutesLabel(i)}onPageSizeChange(){this.currentPage=1,this.loadPatients()}previousPage(){this.currentPage>1&&(this.currentPage--,this.loadPatients())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.loadPatients())}goToPage(i){i>=1&&i<=this.totalPages&&(this.currentPage=i,this.loadPatients())}onSearchChange(){this.currentPage=1,this.loadPatients()}getPageRange(){let i=[],e=Math.max(1,this.currentPage-2),n=Math.min(this.totalPages,this.currentPage+2);for(let h=e;h<=n;h++)i.push(h);return i}};_.\u0275fac=function(e){return new(e||_)(S(re),S(ce),S(L),S(A),S(le),S(W),S(se))},_.\u0275cmp=k({type:_,selectors:[["app-pacientes"]],decls:35,vars:13,consts:[["patientForm","ngForm"],["noNotes",""],["creditForm","ngForm"],[1,"container-fluid"],[1,"row","mb-4"],[1,"col-md-8"],[1,"mb-0"],[1,"bi","bi-people-fill","me-2"],[1,"text-muted"],[1,"col-md-4","text-end"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle","me-2"],["class","row mb-4",4,"ngIf"],[1,"row","mb-3"],[1,"col-md-4"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],["type","text","placeholder","Buscar por nombre, apellido o tel\xE9fono...","autofocus","","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","input","ngModel"],[1,"col-md-3"],[1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-5","text-end","d-flex","align-items-center","justify-content-end"],[1,"text-muted","me-3"],[4,"ngIf"],["class","text-center my-4",4,"ngIf"],["class","row",4,"ngIf"],["class","text-center my-5",4,"ngIf"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"bi","bi-person-plus","me-2"],[1,"card-body"],[3,"ngSubmit"],[1,"row"],[1,"col-md-6","mb-3"],["for","firstName",1,"form-label"],["type","text","id","firstName","name","firstName","required","","placeholder","Ingrese el nombre","autofocus","","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","ngModel"],["for","lastName",1,"form-label"],["type","text","id","lastName","name","lastName","required","","placeholder","Ingrese los apellidos","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","ngModel"],[1,"mt-3"],["for","dni",1,"form-label"],[1,"text-muted","ms-2"],[1,"bi","bi-info-circle","me-1"],["type","text","id","dni","name","dni","required","","placeholder","DNI del paciente","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["type","tel","id","phone","name","phone","required","","placeholder","Ej: +34 123 456 789","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","ngModel"],["for","phone2",1,"form-label"],["type","tel","id","phone2","name","phone2","placeholder","Tel\xE9fono alternativo","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Ej: correo@ejemplo.com","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","ngModel"],["for","family_contact",1,"form-label"],["type","text","id","family_contact","name","family_contact","placeholder","Familiar de contacto","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","ngModel"],["for","birthDate",1,"form-label"],["type","date","id","birthDate","name","birthDate","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","ngModel"],["for","address",1,"form-label"],["type","text","id","address","name","address","placeholder","Direcci\xF3n completa del paciente","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","ngModel"],[1,"col-md-4","mb-3"],["for","cp",1,"form-label"],["type","text","id","cp","name","cp","maxlength","5","pattern","\\\\d{5}","placeholder","Ej: 28001","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","ngModel"],["for","city",1,"form-label"],["id","city","name","city","tabindex","0",1,"form-select",2,"z-index","1060",3,"ngModelChange","ngModel"],["value","","disabled","",4,"ngIf"],["for","province",1,"form-label"],["id","province","name","province","tabindex","0",1,"form-select",2,"z-index","1060",3,"ngModelChange","ngModel"],[1,"mb-3"],["for","notes",1,"form-label"],["id","notes","name","notes","rows","3","placeholder","Notas adicionales sobre el paciente...","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"bi","bi-check-circle","me-2"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-circle","me-2"],["value","","disabled",""],[3,"value"],[1,"pagination","pagination-sm","mb-0"],[1,"page-item"],[1,"page-link","d-flex","align-items-center","justify-content-center",3,"click","disabled"],[1,"bi","bi-chevron-left"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"bi","bi-chevron-right"],[1,"page-link","d-flex","align-items-center","justify-content-center",3,"click"],[1,"text-center","my-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"card-body","p-0"],[1,"table-responsive","d-none","d-md-block"],[1,"table","table-hover","mb-0"],[1,"table-light"],[1,"text-center"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-md-none"],["class","p-3",4,"ngFor","ngForOf","ngForTrackBy"],["class","row mt-3",4,"ngIf"],[2,"cursor","pointer",3,"click"],["class","text-muted small",4,"ngIf"],[1,"text-decoration-none","d-block",3,"href"],[1,"bi","bi-telephone-fill","me-1","text-primary"],["class","text-decoration-none d-block",3,"href",4,"ngIf"],["class","text-decoration-none text-muted small d-block",3,"href",4,"ngIf"],["class","text-muted small",4,"ngIf","ngIfElse"],[1,"d-flex","align-items-center","gap-2"],[1,"badge","bg-info"],["type","button","title","A\xF1adir Sesiones",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-plus-circle"],["class","text-muted ms-2",4,"ngIf"],[1,"badge","bg-secondary"],["role","group",1,"btn-group","btn-group-sm"],["type","button","title","Ver detalles",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-eye"],["type","button","title","Editar",1,"btn","btn-outline-warning",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Eliminar",1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],[1,"text-muted","small"],[1,"bi","bi-telephone","me-1","text-success"],[1,"text-decoration-none","text-muted","small","d-block",3,"href"],[1,"bi","bi-envelope","me-1"],[1,"bi","bi-people","me-1"],[1,"bi","bi-chat-text","me-1"],[1,"d-inline-block","text-truncate",2,"max-width","200px",3,"title"],[1,"p-3"],[1,"card","mb-2"],[1,"d-flex","justify-content-between","align-items-start"],[1,"card-title","mb-1"],["class","text-muted small mb-1",4,"ngIf"],[1,"card-text","small","text-muted","mb-1"],[1,"text-decoration-none",3,"href"],["class","card-text small text-muted mb-1",4,"ngIf"],["class","card-text small text-muted mb-2",4,"ngIf"],[1,"d-flex","gap-2","align-items-center"],["class","ms-2 text-muted small",4,"ngIf"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-outline-secondary","btn-sm","dropdown-toggle"],[1,"bi","bi-three-dots-vertical"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"bi","bi-eye","me-2"],[1,"bi","bi-pencil","me-2"],[1,"dropdown-divider"],[1,"dropdown-item","text-danger",3,"click"],[1,"bi","bi-trash","me-2"],[1,"text-muted","small","mb-1"],[1,"card-text","small","text-muted","mb-2"],[1,"ms-2","text-muted","small"],[1,"row","mt-3"],[1,"d-flex","justify-content-between","align-items-center"],[1,"pagination","mb-0"],[1,"text-center","my-5"],[1,"bi","bi-people","display-1","text-muted"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","border-primary"],[1,"card-header","bg-primary","text-white","d-flex","justify-content-between","align-items-center"],[1,"bi","bi-credit-card","me-2"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"col-md-3","mb-3"],["for","creditType",1,"form-label"],["id","creditType","name","creditType","required","","tabindex","0",1,"form-select",2,"z-index","1060",3,"ngModelChange","change","ngModel"],["value","sesion"],["value","bono"],["for","creditMinutes",1,"form-label"],["id","creditMinutes","name","creditMinutes","required","","tabindex","0",1,"form-select",2,"z-index","1060",3,"ngModelChange","change","ngModel"],["value","30"],["value","60"],["for","creditQuantity",1,"form-label"],["type","number","id","creditQuantity","name","creditQuantity","required","","min","1","max","20","placeholder","Ej: 5","autofocus","","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","input","ngModel"],[1,"col-md-3","mb-3","d-flex","align-items-end"],[1,"w-100"],[1,"fw-bold","text-primary"],["for","creditNotes",1,"form-label"],["id","creditNotes","name","creditNotes","rows","2","placeholder","Notas adicionales sobre estas sesiones...","tabindex","0",1,"form-control",2,"z-index","1060",3,"ngModelChange","ngModel"],[1,"form-check"],["type","checkbox","id","creditPaid","name","creditPaid","tabindex","0",1,"form-check-input",2,"z-index","1060",3,"ngModelChange","ngModel"],["for","creditPaid",1,"form-check-label"],[1,"bi","bi-credit-card-2-front","me-2"],[1,"form-text"]],template:function(e,n){e&1&&(a(0,"div",3)(1,"div",4)(2,"div",5)(3,"h2",6),g(4,"i",7),c(5," Gesti\xF3n de Pacientes "),o(),a(6,"p",8),c(7,"Administra la informaci\xF3n de tus pacientes"),o()(),a(8,"div",9)(9,"button",10),u("click",function(){return n.toggleCreateForm()}),g(10,"i",11),c(11),o()()(),f(12,ge,84,20,"div",12),a(13,"div",13)(14,"div",14)(15,"div",15)(16,"span",16),g(17,"i",17),o(),a(18,"input",18),P("ngModelChange",function(b){return C(n.searchTerm,b)||(n.searchTerm=b),b}),u("input",function(){return n.filterPatients()}),o()()(),a(19,"div",19)(20,"div",15)(21,"span",16),c(22,"Mostrar"),o(),a(23,"select",20),P("ngModelChange",function(b){return C(n.pageSize,b)||(n.pageSize=b),b}),u("change",function(){return n.onPageSizeChange()}),f(24,ue,2,2,"option",21),o(),a(25,"span",16),c(26,"por p\xE1gina"),o()()(),a(27,"div",22)(28,"span",23),c(29),o(),f(30,xe,9,7,"nav",24),o()(),f(31,fe,6,0,"div",25)(32,We,25,5,"div",26)(33,Be,8,3,"div",27),o(),f(34,Ae,59,10,"div",12)),e&2&&(r(9),F("btn-secondary",n.showCreateForm),r(2),x(" ",n.showCreateForm?"Cancelar":"Nuevo Paciente"," "),r(),p("ngIf",n.showCreateForm||n.selectedPatient),r(6),v("ngModel",n.searchTerm),r(5),v("ngModel",n.pageSize),r(),p("ngForOf",n.pageSizeOptions),r(5),x(" ",n.totalPatients," pacientes total "),r(),p("ngIf",n.totalPages>1),r(),p("ngIf",n.loading),r(),p("ngIf",!n.loading),r(),p("ngIf",!n.loading&&n.filteredPatients.length===0),r(),p("ngIf",n.showAddCreditForm))},dependencies:[q,z,B,ae,H,X,Z,R,J,j,K,U,G,te,ie,ne,ee,$,Y,Q,oe],styles:[".pacientes-container[_ngcontent-%COMP%]{padding:24px;max-width:1200px;margin:0 auto}.pacientes-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.pacientes-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:500}.header-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap}.search-field[_ngcontent-%COMP%]{min-width:300px}.new-patient-btn[_ngcontent-%COMP%]{white-space:nowrap}.pacientes-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.patients-table-container[_ngcontent-%COMP%]{overflow-x:auto;margin-top:16px}.patients-table[_ngcontent-%COMP%]{width:100%;min-width:700px}.patient-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease}.patient-row[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.patient-name[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.patient-notes[_ngcontent-%COMP%]{color:#666;font-style:italic;font-size:12px}.no-data[_ngcontent-%COMP%]{color:#999;font-style:italic}.credits-available[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32}.credits-empty[_ngcontent-%COMP%]{background-color:#ffebee;color:#d32f2f}.appointment-count[_ngcontent-%COMP%]{color:#666;font-size:14px}.actions-container[_ngcontent-%COMP%]{display:flex;gap:4px}.no-patients[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;color:#666}.no-patients-icon[_ngcontent-%COMP%], .no-results-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#ccc;margin-bottom:16px}.no-patients[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:16px 0 8px;color:#333}.no-patients[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:24px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;color:#666}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px}@media (max-width: 768px){.pacientes-container[_ngcontent-%COMP%]{padding:16px}.pacientes-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.header-controls[_ngcontent-%COMP%]{justify-content:space-between}.search-field[_ngcontent-%COMP%]{flex:1;min-width:unset}.patients-table[_ngcontent-%COMP%]{min-width:600px}.patient-name[_ngcontent-%COMP%]{font-size:14px}.actions-container[_ngcontent-%COMP%]{flex-direction:column;gap:2px}}@media (max-width: 480px){.header-controls[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.new-patient-btn[_ngcontent-%COMP%]{width:100%}.patients-table[_ngcontent-%COMP%]{min-width:500px}}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{min-width:40px!important;max-width:40px!important;width:40px!important;height:40px!important;padding:0!important;display:flex!important;align-items:center!important;justify-content:center!important;font-size:14px!important;font-weight:500!important;line-height:1!important;border:1px solid #dee2e6!important}.pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px!important;line-height:1!important;width:14px!important;height:14px!important;text-align:center!important;display:flex!important;align-items:center!important;justify-content:center!important}.pagination.pagination-sm[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{min-width:32px!important;max-width:32px!important;width:32px!important;height:32px!important;font-size:13px!important}.pagination.pagination-sm[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px!important;width:12px!important;height:12px!important}"]});let l=_;return l})();export{Xe as PacientesComponent};
